# Slomux
**Исходное задание**
> Slomux — упрощённая, сломанная реализация Flux.
>  Перед вами небольшое приложение, написанное на React + Slomux.
>  Это нерабочий секундомер с настройкой интервала обновления.
 Исправьте ошибки и потенциально проблемный код, почините приложение и прокомментируйте своё решение.
При нажатии на "старт" должен запускаться секундомер и через заданный интервал времени увеличивать свое значение на значение интервала
При нажатии на "стоп" секундомер должен останавливаться и сбрасывать свое значение

**Запуск проекта**

```
yarn

yarn start
```

**Решение**

Provider

Было использовано Context API из React 16 для более удобной работы с контекстом.

Компоненты

Компоненты были переписаны на функциональные с использованием React Hooks для большей читаемости кода и лучшей производительности. Также это было сделано в целях лучшего изучения работы с хуками. Для метода this.forceUpdate был написан свой кастомный хук forceUpdate

Interval

Interval был сделан простым компонентом, в которого методы и данные прокидываются через пропсы. Сделано это было потому, что подключать его к стору было бы излишеством и лишь порождало дублирование кода. (В исходном варианте была ошибка с порядком передаваемых аргументов в connect)

Timer

Все взаимодействие с интервалом было вынесено в хук useEffect. 

Slomux

*сreateStore*
В методе subscribe была возвращена функция для отписки, чтобы не плодить слушателей. Метод dispatch теперь возвращает action. В самом createStore аргумент initialState был сделан пустым объектом по умолчанию. 

*connect*
В декоратор connect был добавлен вызов отписки от обновлений. Декоратор был переписан с использованием хуков

*reducer*
Стейт был создан объектом, в редьюсере сначала создается копия исходного стейта, чтобы избежать проблем с мутабельностью. Дефолтно редьюсер возвращает исходный стейт. 

*actions*
Был добавлен action для того, чтобы переключать состояние таймера, чтобы дизейблить кнопки в зависимости от этого.


